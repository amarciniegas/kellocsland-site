<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kellocsland — Tu viaje a la magia</title>

  <!-- Tipografía simple -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;800&display=swap" rel="stylesheet">

  <style>
    /* Reset y estilo básico */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:'Montserrat',sans-serif;background:#050712;color:#fff;overflow:hidden}
    .intro-wrap{height:100vh;display:flex;align-items:center;justify-content:center;position:relative;flex-direction:column;text-align:center;padding:2rem}
    /* fondo degradado y overlay */
    .bg{
      position:absolute;inset:0;
      background:linear-gradient(180deg,#07102a 0%,#2a1247 60%,#0b1230 100%);
      z-index:0;
      filter:blur(0.6px);
    }
    /* canvas para partículas */
    #tsparticles{position:absolute;inset:0;z-index:0}

    h1{
      position:relative;z-index:2;font-size:clamp(22px,6vw,54px);letter-spacing:0.4px;font-weight:800;
      text-shadow:0 8px 30px rgba(0,0,0,0.6);
    }
    .sub{
      margin-top:1rem;z-index:2;opacity:0.95;font-weight:300;font-size:clamp(14px,2.4vw,18px)
    }

    /* scroll hint */
    .scroll-hint{
      position:absolute;bottom:40px;z-index:2;display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;
      left:50%;transform:translateX(-50%);
      color:rgba(255,255,255,0.92);font-size:13px;
    }
    .arrow{
      width:26px;height:26px;border-left:2px solid rgba(255,255,255,0.9);border-bottom:2px solid rgba(255,255,255,0.9);
      transform:rotate(-45deg);margin-top:6px;animation:down 1.6s infinite;
    }
    @keyframes down{
      0%{transform:translateY(0) rotate(-45deg)}
      50%{transform:translateY(8px) rotate(-45deg)}
      100%{transform:translateY(0) rotate(-45deg)}
    }

    /* logo que aparece al hacer scroll (transición) */
    .logo-reveal{
      position:absolute;top:20px;left:20px;z-index:3;opacity:0;transform:translateY(-6px);
      transition:opacity .8s ease, transform .8s ease;
      display:flex;align-items:center;gap:10px;
    }
    .logo-reveal img{height:46px;width:auto}

    /* fade out intro */
    .fade-out{opacity:0;pointer-events:none;transition:opacity .9s ease}

    /* Botón de música simple */
    .audio-toggle{position:absolute;top:22px;right:20px;z-index:3;background:rgba(255,255,255,0.08);padding:8px 12px;border-radius:999px;font-size:13px;backdrop-filter:blur(4px);cursor:pointer}
    .audio-toggle[aria-pressed="true"]{background:rgba(255,255,255,0.14)}

    /* responsive tweaks */
    @media (max-width:520px){
      h1{font-size:22px}
      .sub{font-size:13px}
    }
  </style>
</head>
<body>

  <div class="bg"></div>

  <!-- Partículas -->
  <div id="tsparticles" aria-hidden="true"></div>

  <!-- Logo que aparecerá al hacer scroll -->
  <div class="logo-reveal" id="logoReveal">
    <img src="logo.png" alt="Kellocsland logo">
    <strong>Kellocsland</strong>
  </div>

  <!-- Botón música -->
  <button class="audio-toggle" id="audioToggle" aria-pressed="false">♪ Encender</button>
  <audio id="bgMusic" loop src="assets/music.mp3"></audio>

  <main class="intro-wrap" id="intro">
    <h1>✨ Tu viaje a la magia comienza aquí ✨</h1>
    <p class="sub">Kellocsland — Planeamos tu experiencia en Disney y Universal</p>

    <div class="scroll-hint" id="scrollHint" title="Bajar">
      <div>Desliza para descubrir</div>
      <div class="arrow" aria-hidden="true"></div>
    </div>
  </main>

  <!-- Scripts: tsParticles + GSAP (animaciones) -->
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js"></script>

  <script>
    // Inicializar partículas (estrellas suaves)
    window.addEventListener('DOMContentLoaded', () => {
      tsParticles.load("tsparticles", {
        fpsLimit:60,
        background: {color: "transparent"},
        particles: {
          number:{value:80,density:{enable:true,area:800}},
          color:{value:"#ffffff"},
          shape:{type:"circle"},
          opacity:{value:0.9,random:{enable:true,minimumValue:0.2},animation:{enable:true,speed:0.5,minValue:0.2}},
          size:{value:{min:0.6,max:2.6}},
          move:{enable:true,speed:0.25,direction:"none",random:true,straight:false,outModes:{default:"out"}}
        },
        interactivity:{events:{onHover:{enable:false},onClick:{enable:false}}},
        detectRetina:true
      });
    });

    // Mostrar logo cuando user intenta hacer scroll o click
    const intro = document.getElementById('intro');
    const logoReveal = document.getElementById('logoReveal');
    const scrollHint = document.getElementById('scrollHint');

    // Smooth transition: al hacer scroll o click en hint -> fade out y redirigir a main.html
    function goToMain(){
      // animación de salida
      gsap.to("#tsparticles", {duration:0.8, opacity:0});
      gsap.to(intro, {duration:0.9, opacity:0, onComplete: () => {
        window.location.href = "main.html";
      }});
      // mostrar logo con brillo
      logoReveal.style.opacity = 1;
      logoReveal.style.transform = 'translateY(0)';
    }

    // escuchar evento de scroll (primera vez)
    let moved = false;
    function handleFirstScroll(){
      if(moved) return;
      moved = true;
      goToMain();
    }
    // detecta rueda del ratón / touchmove / keydown (flecha abajo) / click
    window.addEventListener('wheel', handleFirstScroll, {passive:true});
    window.addEventListener('touchstart', handleFirstScroll, {passive:true});
    window.addEventListener('keydown', (e) => { if(e.key === 'ArrowDown' || e.key === 'PageDown') handleFirstScroll(); });
    scrollHint.addEventListener('click', goToMain);

    // al mover el mouse una vez, mostrar sutilmente el logo
    window.addEventListener('mousemove', () => {
      logoReveal.style.opacity = 1;
      logoReveal.style.transform = 'translateY(0)';
    }, {once:true});

    // audio toggle
    const audio = document.getElementById('bgMusic');
    const audioToggle = document.getElementById('audioToggle');
    audioToggle.addEventListener('click', () => {
      const playing = audioToggle.getAttribute('aria-pressed') === 'true';
      if(!playing){
        audio.play().catch(()=>{/* Autoplay puede estar bloqueado; usuario debe interactuar */});
        audioToggle.setAttribute('aria-pressed','true');
        audioToggle.textContent = '♪ Apagar';
      } else {
        audio.pause();
        audioToggle.setAttribute('aria-pressed','false');
        audioToggle.textContent = '♪ Encender';
      }
    });

    // prevención de scroll por defecto (para mantener pantalla intro limpia)
    window.addEventListener('scroll', () => { window.scrollTo(0,0); });
  </script>
</body>
</html>


